import{s as a,a as i}from"./api-C2T6D-7O.js";function c(){const e=localStorage.getItem("token");return e?`Bearer ${e}`:!1}const n=document.querySelector(".modal-wrapper");function l(e){localStorage.setItem("token",`${e}`),a(e)}function d(e){let r=new FormData(e);const o={};for(let t of r.entries())o[t[0]]=t[1];return o}function u(){n.classList.add("is-hidden"),body.removeAttribute("lock","")}async function m(e){e.preventDefault();const r=n.querySelector("form"),o=d(r);try{const t=await i(o);l(t.token),u()}catch(t){console.log(t);const s=n.querySelector(".signin-modal__error");s.textContent="неправельний логін чи пароль"}}function f(){n.classList.remove("is-hidden"),document.body.setAttribute("lock",""),n.addEventListener("submit",m)}async function k(){const e=c();return e||f(),a(e),!0}export{c as g,k as i};
